{{#section 'js'}}
<script>
  function viewDetail(index) {
    var detailIndex = "row" + index;
    var rowDetail = document.getElementById(detailIndex)
    if (rowDetail.style.display == "")
      document.getElementById(detailIndex).style.display = "none";
    else if (rowDetail.style.display == "none")
      document.getElementById(detailIndex).style.display = "";
  }
  function viewPost(index) {
    var detailIndex = "table" + index;
    var rowDetail = document.getElementById(detailIndex)
    if (rowDetail.style.display == "")
      document.getElementById(detailIndex).style.display = "none";
    else if (rowDetail.style.display == "none")
      document.getElementById(detailIndex).style.display = "";
  }
</script>
{{/section}}
<div class="card">
  <div class="card-header">
    <h4>Quản lý tag</h4>
  </div>
  <div class="card">
    <div class="card-header d-flex justify-content-between">
      <h4>Danh sách</h4>
      <a class="btn btn-outline-success" href="/admin/tag/add" role="button">
        <i class="fa fa-plus" aria-hidden="true"></i>
        Thêm Tag mới
      </a>
    </div>
    <div class="card-body">
      {{#each List}}
      <button type="button" class="btn btn-secondary" style="width:100%;margin-bottom:10px;" onclick="viewPost({{id}})">
        <h5>(+)Phóng viên {{ButDanh}}</h5>
      </button>

      <table id="table{{id}}" class="table table-hover" style="display:none;">
        <thead>
          <tr>
            <th scope="col" class="text-left" style="width: 10%">#</th>
            <th scope="col" style="width: 60%;" class="text-center">Tiêu đề</th>
            <th scope="col" class="text-center">Danh sách tag</th>
            <th scope="col" class="text-center">Chi tiết bài viết</th>
          </tr>
        </thead>
        <tbody>
          {{#each this}}
          {{#if this.id}}
          <tr style="background-color:antiquewhite;">
            <th scope="row" class="text-left">
              <p>{{@index}}</p>
            </th>
            <td class="text-center">
              <p>{{TieuDe}}</p>
            </td>
            <td class="text-center">
              <button type="button" class="btn btn-primary" onclick="viewDetail({{this.id}})"><i class="fa fa-eye"
                  aria-hidden="true"></i></button>
            </td>
            <td class="text-center">
              <a class="btn btn-success btn-sm" href="" role="button" title="">
                <i class="fa fa-pencil" aria-hidden="true">Chi tiết</i>
              </a>
            </td>
          </tr>
          {{!-- style="display:none" --}}
          <tr id="row{{this.id}}" style="display:none">
            <td></td>
            <td class="text-center" colspan="2">
              <table class="table table-hover">
                <thead>
                  <tr style="background-color:lightgray">
                    <th scope="col" class="text-left" style="width: 20%">#</th>
                    <th scope="col" style="width: 60%;" class="text-center">Tên tag</th>
                    <th scope="col" class="text-center">Action</th>
                  </tr>
                </thead>

                <tbody>
                  {{#each this}}
                  {{#if this.id}}
                  <tr id="row{{BaiVietID}}" class="childRow">
                    <td></td>
                    <td class="text-center">{{TenTag}}</td>
                    <td class="text-left">
                      <a class="btn btn-primary btn-sm" href="/admin/tag/edit/{{id}}" role="button"
                        title="Sửa tag">
                        <i class="fa fa-pencil" aria-hidden="true">sửa</i>
                      </a>
                      <a class="btn btn-danger btn-sm" href="/admin/tag/del/{{id}}" role="button"
                        title="Xóa tag">
                        <i class="fa fa-trash" aria-hidden="true">Xóa</i>
                      </a>
                    </td>
                  </tr>
                  {{/if}}
                  {{/each}}
                </tbody>
              </table>
            </td>
          </tr>
          {{/if}}
          {{/each}}
        </tbody>
      </table>
      {{/each}}
    </div>
  </div>
</div>